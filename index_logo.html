<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NutriSeed – Calculadora de Deficiencias Nutricionales</title>
  <style>
    :root {
      --card-bg: rgba(255, 255, 255, 0.25);
      --border-color: rgba(255, 255, 255, 0.3);
      --accent-color: #00a86b;
      --text-color: #ffffff;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, Helvetica, sans-serif;
      background: linear-gradient(135deg, #4fc3f7, #a7ffeb);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      box-sizing: border-box;
    }
    .app-wrapper {
      backdrop-filter: blur(15px);
      background: var(--card-bg);
      border-radius: 2rem;
      border: 1px solid var(--border-color);
      box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
      padding: 2rem;
      width: 100%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      box-sizing: border-box;
      position: relative;
    }
    h1 {
      text-align: center;
      color: var(--text-color);
      margin-bottom: 1rem;
      font-size: 2rem;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: 600;
      color: var(--text-color);
    }
    input, select {
      width: 100%;
      padding: 0.6rem 0.8rem;
      margin-top: 0.4rem;
      border-radius: 0.8rem;
      border: 1px solid var(--border-color);
      background: rgba(255, 255, 255, 0.4);
      color: #333;
      font-size: 1rem;
      box-sizing: border-box;
    }
    button {
      width: 100%;
      padding: 0.8rem;
      margin-top: 1.5rem;
      border-radius: 1rem;
      border: none;
      background: linear-gradient(145deg, var(--accent-color), #007d4a);
      color: #fff;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s ease;
    }
    button:active { transform: scale(0.98); }
    .result {
      margin-top: 1.5rem;
      padding: 1rem;
      border-radius: 1rem;
      background: rgba(255, 255, 255, 0.3);
      color: var(--text-color);
      display: none;
      line-height: 1.6;
    }
    footer {
      margin-top: 2rem;
      text-align: center;
      color: var(--text-color);
      font-size: 0.9rem;
    }
    @media (max-width: 600px) {
      .app-wrapper { padding: 1.5rem; border-radius: 1.5rem; }
      h1 { font-size: 1.6rem; }
    }
    .logo-container {
      position: absolute;
      top: 10px;
      right: 10px;
    }
  </style>
</head>
<body>
  <div class="app-wrapper">
    <div class="logo-container"><?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"
 "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg height="60px" style="float: right; margin-top: -10px;" version="1.0" xmlns="http://www.w3.org/2000/svg"
 width="222.000000pt" height="294.000000pt" viewBox="0 0 222.000000 294.000000"
 preserveAspectRatio="xMidYMid meet">

<g transform="translate(0.000000,294.000000) scale(0.100000,-0.100000)"
fill="#000000" stroke="none">
<path d="M978 2930 c-517 -65 -913 -469 -969 -988 -53 -489 231 -952 699
-1140 181 -73 431 -94 628 -53 405 84 739 399 844 798 127 483 -82 986 -515
1241 -195 114 -465 170 -687 142z m383 -113 c362 -94 643 -375 735 -736 27
-102 41 -273 30 -336 l-8 -38 -137 137 c-119 119 -141 137 -157 128 -11 -6
-66 -58 -124 -116 -57 -58 -109 -106 -115 -106 -5 0 -111 101 -235 225 -124
124 -232 225 -239 225 -7 0 -114 -100 -238 -222 -123 -123 -229 -225 -234
-227 -6 -2 -64 49 -128 113 -65 64 -122 116 -127 116 -5 0 -69 -60 -142 -132
-108 -109 -134 -130 -143 -118 -18 27 -3 244 24 351 76 294 287 548 560 674
209 96 457 119 678 62z m-1071 -1188 c109 -13 261 -43 375 -75 99 -28 342
-121 350 -134 5 -8 -58 -50 -77 -50 -6 0 -51 16 -100 35 -174 69 -393 122
-603 145 -55 7 -103 15 -107 18 -3 4 -9 23 -13 42 l-6 35 48 -3 c26 -1 86 -7
133 -13z m1815 -16 c-3 -21 -10 -41 -13 -44 -4 -4 -86 -19 -182 -33 -309 -47
-458 -91 -685 -200 -205 -99 -335 -185 -499 -331 l-85 -75 -36 17 -36 17 68
69 c321 326 841 556 1373 606 47 5 89 9 94 10 4 0 5 -16 1 -36z m-1806 -149
c175 -26 381 -81 508 -135 l46 -20 -38 -28 -39 -29 -85 30 c-116 39 -296 83
-409 99 -92 13 -94 13 -108 47 -25 61 -30 59 125 36z m1761 7 c0 -5 -7 -24
-15 -43 -14 -35 -15 -35 -107 -48 -369 -49 -757 -217 -1042 -450 l-87 -71 -40
12 c-22 7 -38 17 -36 23 7 23 166 151 278 225 130 87 296 171 444 226 202 76
605 160 605 126z m-1660 -192 c110 -25 290 -80 290 -89 0 -4 -15 -19 -33 -33
l-33 -25 -102 28 c-56 16 -129 34 -162 41 -55 11 -64 16 -90 55 -17 23 -30 45
-30 49 0 7 45 0 160 -26z m1580 25 c0 -3 -13 -25 -30 -48 -26 -39 -35 -44 -91
-55 -247 -49 -512 -160 -731 -308 -111 -74 -134 -82 -197 -64 -22 6 -20 9 35
52 233 182 526 321 829 392 148 35 185 41 185 31z m-1487 -218 c31 -9 57 -20
57 -25 0 -4 -10 -17 -23 -29 l-23 -22 -55 50 c-57 53 -57 53 44 26z m1311 3
c-110 -124 -432 -270 -593 -269 l-46 0 55 35 c142 90 365 191 520 235 84 24
87 24 64 -1z"/>
<path d="M1038 2554 c-35 -16 -159 -47 -330 -83 l-273 -56 -3 -27 c-4 -35 -18
-36 288 6 l245 33 73 -38 73 -39 72 39 72 39 260 -34 c143 -18 263 -33 268
-34 4 0 7 14 7 30 0 17 -2 30 -5 30 -2 0 -127 25 -277 55 -164 33 -295 65
-329 80 -69 31 -71 31 -141 -1z"/>
<path d="M905 557 c-45 -21 -57 -40 -53 -88 4 -53 31 -75 113 -90 67 -12 85
-23 85 -50 0 -52 -95 -68 -147 -25 -24 20 -31 22 -46 11 -24 -17 -21 -30 14
-59 26 -22 40 -26 96 -26 72 0 114 18 132 57 32 70 -9 124 -108 141 -91 16
-116 44 -69 76 28 20 65 20 102 1 32 -17 66 -12 66 10 0 39 -127 68 -185 42z"/>
<path d="M60 395 l0 -165 30 0 c29 0 30 1 30 49 l0 49 76 4 c71 3 78 6 105 36
22 25 29 42 29 75 0 86 -48 117 -180 117 l-90 0 0 -165z m204 83 c22 -31 20
-45 -9 -73 -20 -21 -34 -25 -80 -25 l-55 0 0 60 0 60 64 0 c56 0 67 -3 80 -22z"/>
<path d="M1870 500 c0 -33 -2 -60 -4 -60 -2 0 -20 7 -40 15 -93 39 -178 -44
-148 -143 7 -21 21 -47 31 -56 28 -26 95 -32 125 -12 31 20 36 20 36 1 0 -9 9
-15 25 -15 l25 0 0 165 0 165 -25 0 c-24 0 -25 -3 -25 -60z m-36 -101 c50 -39
22 -119 -42 -119 -60 0 -88 85 -41 122 28 23 50 23 83 -3z"/>
<path d="M458 456 c-16 -8 -28 -11 -28 -5 0 5 -11 9 -25 9 l-25 0 0 -115 0
-115 25 0 c24 0 25 2 25 71 0 94 10 111 62 108 30 -3 42 1 50 15 19 34 -39 56
-84 32z"/>
<path d="M633 454 c-35 -17 -63 -67 -63 -111 0 -38 34 -91 68 -104 33 -13 116
-7 137 11 28 24 0 39 -60 33 -56 -6 -85 5 -85 33 0 11 20 14 91 14 l91 0 -7
37 c-10 55 -23 73 -60 89 -44 18 -72 17 -112 -2z m105 -46 c27 -27 13 -38 -48
-38 -33 0 -60 3 -60 7 0 34 81 58 108 31z"/>
<path d="M1225 463 c-32 -8 -74 -54 -81 -89 -14 -77 40 -144 117 -144 39 0 99
18 99 29 0 20 -26 29 -70 24 -51 -6 -90 8 -90 32 0 12 18 15 90 15 90 0 90 0
90 25 0 77 -73 128 -155 108z m93 -70 l14 -23 -66 0 c-36 0 -66 3 -66 7 0 3 8
15 17 25 23 26 81 21 101 -9z"/>
<path d="M1470 452 c-42 -21 -60 -53 -60 -110 0 -37 6 -50 34 -78 29 -29 41
-34 80 -34 59 0 113 25 96 45 -8 10 -26 12 -66 8 -44 -5 -58 -2 -74 12 -11 10
-20 22 -20 27 0 4 41 8 90 8 l90 0 0 30 c0 44 -19 77 -55 95 -43 20 -72 19
-115 -3z m101 -42 c10 -6 19 -17 19 -25 0 -12 -14 -15 -60 -15 -46 0 -60 3
-60 15 0 30 62 45 101 25z"/>
<path d="M2003 456 c-35 -16 -53 -58 -36 -85 13 -21 50 -39 96 -46 38 -6 47
-21 25 -43 -16 -16 -47 -15 -82 3 -16 9 -30 14 -30 13 -1 -2 -7 -11 -15 -20
-32 -42 128 -69 169 -28 20 20 26 65 12 86 -12 18 -49 34 -80 34 -32 0 -58 22
-47 41 5 7 25 10 56 7 32 -3 53 -1 59 7 26 31 -73 55 -127 31z"/>
</g>
</svg>
</div>
    <h1>NutriSeed</h1>
    <form id="nutriForm">
      <label for="crop">Cultivo</label>
      <select id="crop" required>
        <option value="" disabled selected>Selecciona un cultivo</option>
        <option value="soja">Soja</option>
        <option value="trigo">Trigo</option>
        <option value="maiz">Maíz</option>
        <option value="girasol">Girasol</option>
        <option value="mani">Maní</option>
        <option value="cebada">Cebada</option>
        <option value="lenteja">Lenteja</option>
        <option value="arveja">Arveja</option>
        <option value="picingallo">Maíz Picingallo</option>
        <option value="algodon">Algodón</option>
      </select>
      <label for="yearType">Condición del año</label>
      <select id="yearType" required>
        <option value="" disabled selected>Selecciona una condición</option>
        <option value="seco">Seco</option>
        <option value="neutro">Neutro</option>
        <option value="humedo">Húmedo</option>
      </select>
      <label for="nVal">Análisis Nitrógeno (N)</label>
      <input type="number" id="nVal" placeholder="Ingresa N (ppm, mg/kg o unidad equivalente)" step="0.01" min="0" required />
      <label for="pVal">Análisis Fósforo (P)</label>
      <input type="number" id="pVal" placeholder="Ingresa P (ppm, mg/kg o unidad equivalente)" step="0.01" min="0" required />
      <label for="kVal">Análisis Potasio (K)</label>
      <input type="number" id="kVal" placeholder="Ingresa K (ppm, mg/kg o unidad equivalente)" step="0.01" min="0" required />
      <button type="submit">Calcular deficiencias</button>
    </form>
    <div id="result" class="result"></div>
    <footer>&copy; 2025 NutriSeed</footer>
  </div>
  <script>
    const baseRecommendations = {
      soja: { N: 35, P: 45, K: 100 },
      trigo: { N: 40, P: 30, K: 50 },
      maiz: { N: 60, P: 35, K: 80 },
      girasol: { N: 25, P: 40, K: 60 },
      mani: { N: 20, P: 25, K: 30 },
      cebada: { N: 35, P: 25, K: 40 },
      lenteja: { N: 20, P: 30, K: 20 },
      arveja: { N: 20, P: 35, K: 30 },
      picingallo: { N: 50, P: 30, K: 60 },
      algodon: { N: 45, P: 25, K: 70 },
    };
    const yearMultipliers = { seco: 1.1, neutro: 1.0, humedo: 0.9 };
    function formatNumber(value) { return value.toFixed(2); }
    function calculateDeficiency(recommended, actual) {
      const diff = recommended - actual;
      return diff > 0 ? diff : 0;
    }
    const form = document.getElementById('nutriForm');
    const resultContainer = document.getElementById('result');
    form.addEventListener('submit', function (event) {
      event.preventDefault();
      const cropKey = document.getElementById('crop').value;
      const yearKey = document.getElementById('yearType').value;
      const nVal = parseFloat(document.getElementById('nVal').value);
      const pVal = parseFloat(document.getElementById('pVal').value);
      const kVal = parseFloat(document.getElementById('kVal').value);
      if (!cropKey || !yearKey || isNaN(nVal) || isNaN(pVal) || isNaN(kVal)) {
        alert('Por favor, completa todos los campos correctamente.');
        return;
      }
      const base = baseRecommendations[cropKey];
      const multiplier = yearMultipliers[yearKey];
      const recN = base.N * multiplier;
      const recP = base.P * multiplier;
      const recK = base.K * multiplier;
      const defN = calculateDeficiency(recN, nVal);
      const defP = calculateDeficiency(recP, pVal);
      const defK = calculateDeficiency(recK, kVal);
      const resultHtml = `
        <h3>Resultados para ${cropKey.charAt(0).toUpperCase() + cropKey.slice(1)}</h3>
        <p><strong>Condición del año:</strong> ${yearKey.charAt(0).toUpperCase() + yearKey.slice(1)}</p>
        <p><strong>Recomendaciones ajustadas (N‑P‑K):</strong> ${formatNumber(recN)} - ${formatNumber(recP)} - ${formatNumber(recK)}</p>
        <p><strong>Valores medidos (N‑P‑K):</strong> ${formatNumber(nVal)} - ${formatNumber(pVal)} - ${formatNumber(kVal)}</p>
        <p><strong>Deficiencia estimada:</strong></p>
        <ul>
          <li>Nitrógeno (N): ${formatNumber(defN)}</li>
          <li>Fósforo (P): ${formatNumber(defP)}</li>
          <li>Potasio (K): ${formatNumber(defK)}</li>
        </ul>
        <p>Una deficiencia de 0 significa que el suelo contiene al menos la cantidad recomendada de ese nutriente.</p>
      `;
      resultContainer.innerHTML = resultHtml;
      resultContainer.style.display = 'block';
    });
  </script>
</body>
</html>